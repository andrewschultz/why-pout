#-- rbr-wp-thru.txt
#-- main branch file for Why Pout walkthroughs
#
#-- TTC.PY generates test cases not found here
#--

#NOTE: PRC.PY has a bug where it double-prints the text at the end if the final command fails

file=reg-wp-thru-min.txt,min,minimum walkthrough
file=reg-wp-thru-all.txt,all,walkthrough with all points and potential neutral retries
file=reg-wp-thru-reject.txt,rej,walkthrough with all rejections and THINK
file=reg-wp-thru-alt-verbs.txt,alt,walkthrough with altverb tests
file=reg-wp-thru-mistakes.txt,mis,walkthrough testing all mistakes
file=reg-wp-thru-homonyms.txt,hom,walkthrough testing homonyms
file=reg-wp-thru-goto.txt,goto/gt/go,walkthrough testing GOTO

#--stable-file: this eventually says that the project is stable, and I shouldn't change the main/minimal file unless I really need to.
#--strict-file: this says that the project requires strict section marking e.g. @all instead of ==t1.

}$REJECT1=You're stuck with what to do right now. Perhaps you can use your senses for clues, or THINK, or look inward, to give you an idea of how to get started. Not just a what, but a how or a why. You can't exactly look outward.
}$REJECT2=That thought/action/observation/request brings up nothing. Why Pout has a limited set of verbs, and the main thing is to guess a two-word phrase. To see what verbs are used, try VERBS.
}$REJHOM=Hmm. That really, really SOUNDED like it should work, but it didn't.

}}MAX=55
}}CURMAX=55
}}SCORE=0
}}CURMIN=45
}}CURMINBONUS=0
}}CURMAXBONUS=10
}}MAXBONUS=10

## *FILE
## *FORK

## *DESCRIPTION

** game: /home/andrew/prt/debug-why-pout.z8
** interpreter: /home/andrew/prt/dfrotz -m -w5000 -h25

* main-thru

@all
#testcase-room-names-eh-raw-air-aww
`Eh, Raw Air, Aww

@goto
#testcase-goto-table-of-noways-eh-raw-air-aww
>n
"Grey trek? Great wreck!" you moon. You can't see anywhere. You know almost nothing. I mean, you don't even have a name. What would you do even if there was a passage?
\\
#+testcase-goto-table-of-noways-eh-raw-air-aww
>e
"I sit? Ice it!" you moon. You can't see anywhere. You know almost nothing. I mean, you don't even have a name. What would you do even if there was a passage?

>z

>an aim
by a point

@all,rej
{--rej}#testcase-check-pre-an-aim-rule-fallthrough
{--all}#testcase-run-post-an-aim-rule-default
Yes. Now that you realize you want more than just to know your name, that you have bigger goals, you push a bit harder when you initially forget it. You remember patches of the past. You remember people harshly calling you by your last name, then your first.
Your name is Mike Orr. You even remember it's -- well, one of these two things: short for Michal, which everyone pronounced Michael until you just gave up, or ... well, Michael.
You look around a bit. You can see more, now. You're in some sort of tomb apse. You could exit--there are exits each way--but you suspect there's some horrible maze you could easily get lost in.

@all
`Tomb Apse

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-my-core-rule-core
#testcase-homonym-detail-hom-my-core-rule-default
>my core
You always want to strengthen your own core, but you have a feeling you're looking too inward, here. Though you must be close.

@hom+
#testcase-homonym-reject-table-of-main-oronyms-hom-too-maps-rule-too
#testcase-homonym-detail-hom-too-maps-rule-fallthrough
#testcase-homonym-detail-hom-too-maps-rule-if-the-player's-command-includes-maps
#testcase-homonym-detail-hom-too-maps-rule-default
>too maps
Sounds right, but be more specific how MUCH of the maps you want.
\\
>too maaaps
Sounds right, but be more specific how MUCH of something else you want.

>two maps
by a point

@all,rej
{--rej}#testcase-check-pre-two-maps-rule-fallthrough
{--all}#testcase-run-post-two-maps-rule-default
You look around for secrets. You find one line that is a hash of horizontal lines and another that is a hash of vertical lines. You put them together ... and you see a maze. You hope you can trace a passage out. And, with some effort, you do! Then you follow it. You hope it's right, and it leads somewhere better, or at least not as awful...

@all
#testcase-room-names-hype-lane
`Hype Lane

@gt
#testcase-goto-table-of-noways-hype-lane
>w
No sense faffing around horizontally. You're sick of being stuck underground.
\\
#+testcase-goto-table-of-noways-hype-lane
>u
You need to find something that will help you go up.

>self owns
by a point

@all,rej
{--rej}#testcase-check-pre-self-owns-rule-fallthrough
{--all}#testcase-run-post-self-owns-rule-default
You take a step back from all the confident, constant chatter in the cell phones. You hear that, indeed, people are just repeating mantras, and they are not as smart as they think they are. You wonder if you should say something to the most egregious offenders ... and you eventually do! And they appear flustered. They attack you back for being too quiet. You mention that if they annoyed someone as too-quiet as you, they must have gone over the line.
Your confrontation did not go unnoticed by other cell phoners. They take the hint and moderate their voices.
However, now, a prize talk blasts through hidden loudspeakers. It exhorts you to find your dream, to find something that will help you move above and beyond everyone else. It's probably talking about money or power, but you're looking for something different.

>pry stalk
by a point

@all,rej
{--rej}#testcase-check-pre-pry-stalk-rule-fallthrough
{--all}#testcase-run-post-pry-stalk-rule-default
Among all the chatter, you discover a disused booth. Someone is preaching on about environmental stuff, and it's so much less painful than cell phone chat. You worry they're just going to blab on forever, but they're so grateful you listened as long as you did. They hand you a stalk they think can grow quickly. Their own special formula. It looks weird and glittery, and if anything can reach up out of here, this can. But the question is, where can it grow to?

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-5-high-plain-plane
>high plane
by a point
\\
>undo

@gt
#+testcase-goto-table-of-noways-hype-lane
>u
You need to name where to go up to.

@hom
#testcase-homonym-reject-table-of-main-oronyms-hi
>hi plane
{$REJHOM}

>high plain
by a point

@all,rej
{--rej}#testcase-check-pre-high-plain-rule-fallthrough
{--all}#testcase-run-post-high-plain-rule-default
You plant the stalk, which -- well, it's already a bit of a stalk, but it grows quickly and sturdily. It's not hard at all to climb. You are pretty sure you're aboveground, but it's hard to see for sure.

@all
#testcase-room-names-naff-haze
`Naff Haze

@gt
#testcase-goto-table-of-noways-naffhaze
>n
Too tough to stumble around until the haze lifts. How to make that happen?

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-6-nah-naah-naw-naa-na-phase
>naah phase
by a point
\\
>undo
\\
>naw phase
by a point
\\
>undo
\\
>naa phase
by a point
\\
>undo
\\
>na phase
by a point
\\
>undo

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-nah-phaze-rule-phaze
#testcase-homonym-detail-hom-nah-phaze-rule-default
>nah phaze
You sense you don't want the naff haze to faze you, but you want a noun, here, to reject.

>nah phase
by a point

@all,rej
{--rej}#testcase-check-pre-nah-phase-rule-fallthrough
{--all}#testcase-run-post-nah-phase-rule-default
The haze seemed too thick at first. But you recognize it doesn't have to be there. As you sift through it, you notice things that weren't there before. It lifts.

@all
#+testcase-room-names-naff-haze
`High Plain

@gt
#+testcase-goto-table-of-noways-naffhaze
>n
You feel like eventually you should be able to wander around, but you can't see anywhere to go, yet. There seem to be clues where to go, and how, if you look around.

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-7-pole-pull-east
>pull east
by a point
\\
>undo

@hom
#testcase-homonym-reject-table-of-main-oronyms-poll-paul-pall
>poll east
{$REJHOM}
\\
>paul east
{$REJHOM}
\\
>pall east
{$REJHOM}

>pole east
by a point

@all,rej
{--rej}#testcase-check-pre-pole-east-rule-fallthrough
{--all}#testcase-run-post-pole-east-rule-default
Ah, yes. It makes sense. You find the pole. Strangely, there's just a single switch to flip. And even more strangely, the switch you flip causes the pole to revert into the ground. Yay!
But there's more! A war pawn, like a chess piece, rolls into view. It looks pretty powerful. Maybe you see how to use it, but maybe you shouldn't use it right away.

@mis
#testcase-mistake-why-pout-warp-warp-text
>warp
Yes, the war pawn will help you warp, but permit me some pedantry: which way? Backwards?
\\
#+testcase-mistake-why-pout-warp-warp-text
>warp text
Yes, the war pawn will help you warp, but permit me some pedantry: which way? Backwards?

@gt
#+testcase-goto-table-of-noways-naffhaze
>w
You can't go west, but you can go east.

>shore trail
by a point

@all,rej
{--rej}#testcase-check-pre-shore-trail-rule-fallthrough
{--all}#testcase-run-post-shore-trail-rule-default
There must be more to the short rail than you see. And you start tracing where it is, where it can be, where it should go. You find something to dig up. It's ... surprisingly malleable. You have nothing else to do, anyway. Soon it feels like pulling cable from a ground. It's tough, since you can't see around, but indeed, the short rail does lead to a shore trail that leads south.

>grow star
by a point

@all,rej
{--rej}#testcase-check-pre-grow-star-rule-fallthrough
{--all}#testcase-run-post-grow-star-rule-default
You look at the gross tar, and you hope for a star in the sky to become brighter. It does, and clearly some of the tar is goopier than some of the other tar. You see a way to the north, and after you do, the tar isn't as relevant any more.

>key pillar
by a point

@all,rej
{--rej}#testcase-check-pre-key-pillar-rule-fallthrough
{--all}#testcase-run-post-key-pillar-rule-default
You look around the pillars for a key, since there's no flowerpot to hide it under. You find one, and you open the way west.
You've changed the landscape a lot, north, south, east and west. But there's more! You hear a rumbling beneath you, opening a passage DOWN!

>s

@all
#testcase-room-names-no-notion
`No Notion

@gt
#testcase-goto-table-of-noways-nonotion
>w
You can only go back NORTH, or that's your notion, right now.

>known ocean
by a point

@all,rej
{--rej}#testcase-check-pre-known-ocean-rule-fallthrough
{--all}#testcase-run-post-known-ocean-rule-default
Ah, yes. Things clear up a bit now. There we go ... you see where an ocean should be, and ... yes, you dip your toe in some wetness. Things clear up. You even see a sick squid! Maybe you can help it.

@all
#+testcase-room-names-no-notion
`Known Ocean

@gt
#+testcase-goto-table-of-noways-nonotion
>e
You can only go back NORTH or, if you know where you want to go, give the squid instructions where to go.

>six quid
by a point

@all,rej
{--rej}#testcase-check-pre-six-quid-rule-fallthrough
{--all}#testcase-run-post-six-quid-rule-default
You have an idea what is bothering the squid. Yes, a few coins stuck. Surprisingly, it lets you help out. "Current, sea, currency," you mutter as you poke around. Ah, there you go.
You offer to give it some of the coins it almost choked on, but it does not need them. It seems to wait around, as if to help you with travel to places you may get to go. It's willing to wait.

>n

>n

@all
#testcase-room-names-wolf-rock
`Wolf Rock

@gt
#testcase-goto-table-of-noways-wolf-rock
>n
Wolf Rock blocks every planar passage except back SOUTH.
!lode ore
!hideout

>wool frock
by a point

@all,rej
{--rej}#testcase-check-pre-wool-frock-rule-fallthrough
{--all}#testcase-run-post-wool-frock-rule-default
You rummage about and find a wool frock.

@alt
>hideout
by a point
\\
>undo

>hide out
by a point

@all,rej
{--rej}#testcase-check-pre-hide-out-rule-fallthrough
{--all}#testcase-run-post-hide-out-rule-default
It's easy enough to say you should doubt yourself less. I mean, you'd feel stupid doubting it. But there's always a reason not to. Still, you involuntarily start a mantra: "Fine, doubt? Find out!"
And what do you know? You find a hideout below!

>d

@all
#testcase-room-names-hide-out
`Hideout

@gt
#testcase-goto-table-of-noways-hideout
>w
You can only go back UP. If this hideout had too many passages, it'd risk being less effective.

@hom
#testcase-homonym-reject-table-of-main-oronyms-roll
>boost roll
{$REJHOM}

@mis
#testcase-mistake-why-pout-boo-stroll
>boo stroll
No, the booze troll shouldn't be blown off! They can become a better ... entity.

>boost role
by a point

@all,rej
{--rej}#testcase-check-pre-boost-role-rule-fallthrough
{--all}#testcase-run-post-boost-role-rule-default
You talk with the booze troll for a bit. They seem not to know who they are, and that gives you something in common with them. They don't want to be a lousy boozer all their life. They are sick of drinking Base Ale.
You decide to trust them. They don't seem armed. You mention you've been having an adventure, and they'd sort of like one, too. They hand you a bottle of Base Ale as thanks. Not that they want you to go down their road. But it might be useful in bartering.
It looks like the new troll will be following you around. All that silence might get awkward, so you may wish to T or TALK (TO) them.

@mis
#testcase-mistake-why-pout-neutral
>neutral
No, the new troll's on your side! Don't reject help!
\\
#testcase-mistake-why-pout-newt-roll-nude-roll-newt-role-nude-role
>newt roll
That would change the new troll for the worse!
\\
>nude roll
That would change the new troll for the worse!
\\
>newt role
That would change the new troll for the worse!
\\
>nude role
That would change the new troll for the worse!

>u

>s

>w

@all
#testcase-room-names-keep-iller
`Keep (Iller)

>gnome old
by a point

@all,rej
{--rej}#testcase-check-pre-gnome-old-rule-fallthrough
{--all}#testcase-run-post-gnome-old-rule-default
A gnome, old, arrives from a room above in the keep. They offer to adventure with you, if you have suitable enough adventuring gear. As a matter of fact, you do. The wool frock works well.
"Less gnome attic, more nomadic," they muse.
Funnily, you stop specifically noticing the lack of mold now your new companion's joined you. But you still appreciate their efforts deep down!

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-rouge-old-rule-rouge
#testcase-homonym-detail-hom-rouge-old-rule-default
>rouge old
Rouge ... no, too foreign, also, too abstract. But you need a person, not a color. That'll get you a point in this game, not just Canadian football.

>rogue old
by a point

@all,rej
{--rej}#testcase-check-pre-rogue-old-rule-fallthrough
{--all}#testcase-run-post-rogue-old-rule-default
A rogue, old, arrives. They mention they'd like to help you but, you know, the row (gold) needs maintenance. You offer to pay them three quid..
This transaction reduces your wealth from six quid to three quid.
Hmm. You have a lot of friends following you around, but you haven't talked to them much. Perhaps you could learn something from them.

@gt
#testcase-goto-table-of-noways-keepiller
>w
Apart from finding a way beyond the seedy sign, the keep doesn't have many twisty passages. Well, any.

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-c-sea-design-rule-c-sea
#testcase-homonym-detail-hom-c-sea-design-rule-default
>sea design
Close, but there are other waterways. Action (well, sort of) is needed here.
\\
>c design
Close, but there are other waterways. Action (well, sort of) is needed here.

>see design
by a point

@all,rej
{--rej}#testcase-check-pre-see-design-rule-fallthrough
{--all}#testcase-run-post-see-design-rule-default
You see the design in the seedy sign. It leads somewhere scary. Somewhere you don't want your friends to visit. Though you appreciate their support. You'll be right back. You think. You hope.
Whatever you need to do or find here, you only want to do it once. You don't want to have to come back. You're glad your friends supported you enough to get here, but you don't want to have to rely on them like that again.
So, what do you need to find, before getting out?

@all
#testcase-room-names-nigh-fright
`Nigh Fright

@gt
#testcase-goto-table-of-noways-nigh-fright
>e
You could leave, but then you'd have to come back. Just figure what to do here.

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-40-knife-right-rite
>knife rite
by a point
\\
>undo

>knife right
by a point

@all,rej
{--rej}#testcase-check-pre-knife-right-rule-fallthrough
{--all}#testcase-run-post-knife-right-rule-default
With your friends boosting your spirits, you look for a sacred/profane weapon. It turns up. Eerie howling begins. You hightail it out of there.

@all
`Keep (Iller)

@gt
#+testcase-goto-table-of-noways-keepiller
>w
Apart from finding a way beyond the seedy sign, which you don't need to again, the keep doesn't have many twisty passages. Well, any.

>e

@gt
#+testcase-goto-table-of-noways-naffhaze
>u
You can go down or in the cardinal directions, but not up.

>d

@all
#testcase-room-names-worm-eaten
`Worm-Eaten

>gaunt raider
by a point

@all,rej
{--rej}#testcase-check-pre-gaunt-raider-rule-fallthrough
{--all}#testcase-run-post-gaunt-raider-rule-default
After some discussion, you work out a plan to make the gone trader reframe what they did. Whoever they were, the evil powers, they rejected them instead of doubling down. Perhaps there is a way to get back at them. They know things you never could hope to.
Hmm. You have a lot of friends following you around, but you haven't talked to them much. Perhaps you could learn something from them.

>u

@!min
#unscramble the order the swears appear in
>ao
\\
>brew swears
by a bonus point

@all,rej
{--rej}#testcase-check-pre-brew-swears-rule-fallthrough
{--all}#testcase-run-post-brew-swears-rule-default
Yes. That's what BRUISE WARES is really for. Enter at your own risk. It's ... an adventure, of its own sort.

@!min
>in

@all
#testcase-room-names-brew-swears
`Brew Swears

@gt
#testcase-goto-table-of-noways-brew-swears
>e
You don't want to get into the guts of this place. Just get the crude orc, if you'd like, then get OUT.

@!min
>weak us
by a bonus point

@all,rej
{--rej}#testcase-check-pre-weak-us-rule-fallthrough
{--all}#testcase-run-post-weak-us-rule-default
{--all}#testcase-run-post-weak-us-rule-follow-the-cycle-swears-rule
You're surprised how just making a little shift can make the grinch earls seem much weaker. Their strength is the sort of brute force that doesn't lift other people up.
They throw down the gauntlet at this point. Don't you know cussing shows higher intelligence? Some study or other showed that!
The crude orc looks back and forth between you and the grinch earls, glaring at them a bit, but not yet ready to break free. Just a bit more, and you may gain a friend.
Your observation has caused something to "righteously" snap in the grinch earls. And boy, are they going to firehose you with their "best!"
The grinch earls shake their heads at you: "Bah! Sturdy?!"

@!min
>crew dork
by a bonus point

@all,rej
{--rej}#testcase-check-pre-crew-dork-rule-fallthrough
{--all}#testcase-run-post-crew-dork-rule-default
You break the truth gently to the crude orc that, well, they're at the bottom of the totem pole for this crew. They'll use the crude orc, maybe even not let them into the clique, and then find the next sucker. The grinch earls surprisingly have little response to this besides, well, profanity.
The crude orc sees it now. The grinch earls weren't as friendly as they seemed. They wanted to use some trusting kid and corrupt them. The crude orc shakes their head. They ask if they can be seen as an orc and not, well, a dork. You say sure.
You've gained a friend! You can stick around to torment the grinch earls further, or you can go on your way.
Hmm. You have a lot of friends following you around, but you haven't talked to them much. Perhaps you could learn something from them.

@gt
#+testcase-goto-table-of-noways-brew-swears
>w
You don't want to get into the guts of this place. You've gotten the crude orc on your side, and the only way to go is OUT.

@!min
>bastard eee
by a bonus point

@all,rej
{--rej}#testcase-check-pre-bastard-eee-rule-fallthrough
{--all}#testcase-run-post-bastard-eee-rule-default
You show you're sturdy and then some, with just the right tone of exasperation. They pretend not to be impressed, but they don't have a comeback.
The grinch earls mock you, or maybe boost themselves, with "Heh, class!"

@!min
>heckle ass
by a bonus point

@all,rej
{--rej}#testcase-check-pre-heckle-ass-rule-fallthrough
{--all}#testcase-run-post-heckle-ass-rule-default
You give back at least as good as you got, showing you don't need to use the big cuss words to get a point in as well.
The grinch earls laugh and say "Hush it."

@!min
>huh shit
by a bonus point

@all,rej
{--rej}#testcase-check-pre-huh-shit-rule-fallthrough
{--all}#testcase-run-post-huh-shit-rule-default
You reject the grinch earls' "urbane" attempts at shutting you up. They're a bit surprised at you.
The grinch earls take cheap shots and say "Life occurs."

@!min
>lie fuckers
by a bonus point

@all,rej
{--rej}#testcase-check-pre-lie-fuckers-rule-fallthrough
{--all}#testcase-run-post-lie-fuckers-rule-default
You cut down the grinch earls for making things more bleak than they are. Sure, life can be cruel, but that's no excuse to make it even more cruel. They give a "whatever," but you see the point touched home.
The grinch earls launch "Weird! Ick!"
s at enemies real and imagined.

@!min
>were dicks
by a bonus point

@all,rej
{--rej}#testcase-check-pre-were-dicks-rule-fallthrough
{--all}#testcase-run-post-were-dicks-rule-default
You mock the grinch earls back, giving at least as good as you get, noting there's always a hole in these sorts of attacks.
The grinch earls, out of insults, give up on you, claiming you got boring. But you know better.

@!min
>grin churls
by a bonus point
The grin churls remark that you seemed so nice, really, and they're all for a bit of banter, but they know when to fully move on from people like you who just don't shut up.

@all,rej
{--rej}#testcase-check-pre-grin-churls-rule-fallthrough
{--all}#testcase-run-post-grin-churls-rule-default
You slip in a few sly digs and say "grin, churls." They shake their heads, annoyed.
The grin churls remark that you seemed so nice, really, and they're all for a bit of banter, but they know when to fully move on from people like you who just don't shut up. So they do.

@!min
>out

>e

@all
#testcase-room-names-lobe-end
`Lobe End

@gt
#testcase-goto-table-of-noways-lobe-end
>n
You can only go back west. Well, for now.

>low bend
by a point

@all,rej
{--rej}#testcase-check-pre-low-bend-rule-fallthrough
{--all}#testcase-run-post-low-bend-rule-default
You almost despair for a minute that you reached a dead end so soon. You page through all the possible ways out, proving to yourself you're right, hoping against hope you're wrong.
And looking around, you see you are! There is a bit more to all this. A very thin and reasonably sloped path north leads down to some water. Which you can't cross at the moment, but maybe you'll figure a way.

@all
#+testcase-room-names-lobe-end
`Low Bend

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-28-bay-sail-sale
>bay sail
by a point
\\
>undo

@gt
#+testcase-goto-table-of-noways-lobe-end
>e
The bend only curves west to north.

>bay sale
by a point

@all,rej
{--rej}#testcase-check-pre-bay-sale-rule-fallthrough
{--all}#testcase-run-post-bay-sale-rule-default
You have money, and you are ready for a sale, and you get it. Unfortunately, though you were expecting a nice big ship, you get something a little humbler, namely a We-Craft Weak Raft. It seems sturdy enough, though, and it does have a sail.
You christen it with the base ale, and the bottle fragments shatter and float away in the water.
This transaction reduces your wealth from three quid to one quid.

>n

@all
#testcase-room-names-store-mile
`Storm Isle

@gt
#testcase-goto-table-of-noways-storm-isle
>n
You can only go back south to Lobe End.

>store mile
by a point

@all,rej
{--rej}#testcase-check-pre-store-mile-rule-fallthrough
{--all}#testcase-run-post-store-mile-rule-default
The storms let up. It's not such a big isle after all, but it does turn out to hold a whole lot of stores and vending areas. In particular, a stall labeled MY STALL, and a shelf labeled MEN SHELF.

@all
#+testcase-room-names-store-mile
`Store Mile

@hom
#testcase-homonym-detail-hom-mencsh-elf-rule-if-the-player's-command-includes-munch
>munch elf
No, a sort of person. This one's a bit obscure.
\\
#testcase-homonym-reject-table-of-main-oronyms-hom-mencsh-elf-rule-mensh-mench-munch
#+testcase-homonym-detail-hom-mencsh-elf-rule-if-the-player's-command-includes-munch
>mensh elf
Oh, man. Sorry to be playing spelling police with you here, but you have the pronunciation right.

>mensch elf
by a point

@all,rej
{--rej}#testcase-check-pre-mensch-elf-rule-fallthrough
{--all}#testcase-run-post-mensch-elf-rule-default
You knock about the MEN shelf a bit, unable to find anything. It's really a collection of shelves that you disassemble and reassemble. Eventually, you're about to give up, and it all collapses, taking a chunk of wall with it. Our pops a mensch elf, quite grateful you helped them escape.
Hmm. You have a lot of friends following you around, but you haven't talked to them much. Perhaps you could learn something from them.

>mice tall
by a point

@all,rej
{--rej}#testcase-check-pre-mice-tall-rule-fallthrough
{--all}#testcase-run-post-mice-tall-rule-default
You look into the stall and shrug your shoulders. Then the gnome (old) steps in and notes they hear something. Chittering noises! The gnome chitters back.
It takes a lot of negotiating, but you find where the mice are stuck. You and the gnome thud through and out come some mice, tall. They're tall for mice, though they really only come up above your knee.
Hmm. You have a lot of friends following you around, but you haven't talked to them much. Perhaps you could learn something from them.

@gt
#+testcase-goto-table-of-noways-storm-isle
>e
You can only go back south to Lobe End or north to the rest of the mall.

>s

>w

>n

>low door
by a point

@all,rej
{--rej}#testcase-check-pre-low-door-rule-fallthrough
{--all}#testcase-run-post-low-door-rule-default
The lode and the ore are tough to shift around for someone as big as yourself. But the tall mice manage to get into those small niches you can't. They locate a low door, then, point to where you can remove the ore to create a passage. You'll have to duck a bit to get in, but you can now go INSIDE. Hooray!

@gt
#+testcase-goto-table-of-noways-wolf-rock
>n
Wolf Rock blocks every planar passage except back SOUTH. Well, you can go IN where the lode ore was as well. There's a hideout above as well.

>in

@all
#testcase-room-names-we-loan
`We Loan

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-wheel-own-rule-wheel
#testcase-homonym-detail-hom-wheel-own-rule-default
>wheel own
This is a seedy financial services provider, not a seedy used car dealer. Still, you must be on the right track.

@gt
#testcase-goto-table-of-noways-we-loan
>e
You can only go back OUT here.

>well own
by a point

@all,rej
{--rej}#testcase-check-pre-well-own-rule-fallthrough
{--all}#testcase-run-post-well-own-rule-default
Yes. There's a definite shady side. You mumble to yourself, and then your mumbles get louder, and it attracts ... some merchant. They begin babbling about deals they have, fake-friendly, about how you can buy low.

@all
#+testcase-room-names-we-loan
`We'll Own

@mis
#testcase-mistake-why-pout-babylon
>babylon
It's a bit beyond your power to whisk someone who'll babble on back to Babylon, but I must salute your clever try! I missed it, but a tester saw it.

>summer chant
by a point

@all,rej
{--rej}#testcase-check-pre-summer-chant-rule-fallthrough
{--all}#testcase-run-post-summer-chant-rule-default
You think up a summer chant you mumble under your breath. The merchant finds it a bit weird you like THAT as a way to keep positive. It doesn't seem like that sort of thing helps the economy. Their cheeriness slips slightly, with impressively-balanced potshots at people more and less successful than they are.

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-23-bile-oh-o
>bile o
by a point
\\
>undo

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-bile-owe-rule-owe
#testcase-homonym-detail-hom-bile-owe-rule-default
>bile owe
Neither you nor the merchant owe each other anything, for better or for worse. You're close. Perhaps you should just see things as they are and emote slightly.

>bile oh
by a point

@all,rej
{--rej}#testcase-check-pre-bile-oh-rule-fallthrough
{--all}#testcase-run-post-bile-oh-rule-default
The mere suggestion that the merchant's aggression may be annoying seems to set them off. No, no, it's people like YOU who are the problem. Without dynamic positivity like theirs, you're totally screwed! You're just jealous you don't have it!
You freeze up, confused by all this, and the merchant takes this as a sign of arrogant disrespect. You are not the first person to reject their positivity! They run into clueless crumb-bums all day!
They storm off, presumably to find another crumb-bum to abuse for not having their brand of positivity.
Oh, hey, you can maybe enjoy some solitude now!

@hom
#testcase-homonym-reject-table-of-main-oronyms-wee-loan
>wee lone
{$REJHOM}

>whee lone
by a point

@all,rej
{--rej}#testcase-check-pre-whee-lone-rule-fallthrough
{--all}#testcase-run-post-whee-lone-rule-default
You enjoy your solitude, but ... wait. You lose track of time, and an oaf liar slips in just to babble at you.

@all
#+testcase-room-names-we-loan
`Whee, Lone?

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-25-oh-flier-flyer
>oh flyer
by a point
\\
>undo

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-owe-flier-rule-owe
#testcase-homonym-detail-hom-owe-flier-rule-default
>owe flier
You don't owe the oaf liar anything, and they don't owe you a flier, even if they might be wasting your time. How to call attention to a flier, though?

>oh flier
by a point

@all,rej
{--rej}#testcase-check-pre-oh-flier-rule-fallthrough
{--all}#testcase-run-post-oh-flier-rule-default
{--all}#testcase-run-post-oh-flier-rule-fallthrough
You act distracted just right. The oaf liar tries to get your attention. Just ignoring them wouldn't work, but paying attention to a flier ... well, they take the hint that you aren't a high-rolling customer. They try to wheedle more money out of you, but of course, that's all you have. So you trade your final quid for the flier. The oaf liar thanks you for not totally wasting their time. They seem to snicker as they depart.
This transaction reduces your wealth from one quid to zero quid.
Well, easy come, easy go. You're pretty sure you've visited everywhere and found everyone who might need money.

@all
#+testcase-room-names-we-loan
`Whee! 'Lone!

>out

>s

>w

>plan tracker
by a point

@all,rej
{--rej}#testcase-check-pre-plan-tracker-rule-fallthrough
{--all}#testcase-run-post-plan-tracker-rule-default
Wow! That was ... surprisingly simple. You find a rather new-looking plan tracker behind the plant racker, which crumbles to dust as you push it aside.

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-37-manna-curb-kerb
>manna kerb
by a point
\\
>undo

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-mana-curb-rule-man-a-mana
#testcase-homonym-detail-hom-mana-curb-rule-default
>mana curb
You do not have any magic points, so you don't need them refreshed. But you must be close!
\\
>man a curb
You do not have any magic points, so you don't need them refreshed. But you must be close!

>manna curb
by a point

@all,rej
{--rej}#testcase-check-pre-manna-curb-rule-fallthrough
{--all}#testcase-run-post-manna-curb-rule-default
You suspect there is manna beneath the manic herb, but you have no clue how to find it. Thankfully, the mensch elf steps up. You wind up with a lot of manna, whatever that is!

>e

@alt
##balance undos
# this tests getting the grow vial first then TREE SMALL
>s
\\
>grow vial
by a point
\\
>n
>e
>n
>n
>tree small
Amidst all the fake trees, an actual organic small tree grows. You're a bit disappointed, but you realize you maybe shouldn't have expected much with so little letter-shuffling. Maybe if you want a bigger tree, you'll need to do something else.
But wait! You can use the grow vial! It makes the tree (small) into a tree (tall)! Then it dissolves once empty.
\\
>undo
>undo
>undo
>undo
>undo
>undo
>undo

>e

>n

>n

@all
#testcase-room-names-trees-mall
`Trees Mall

>tree small
by a point

@all,rej
{--rej}#testcase-check-pre-tree-small-rule-fallthrough
{--all}#testcase-run-post-tree-small-rule-default
{--all}#testcase-run-post-tree-small-rule-if-player-has-grow-vial
{--all}#testcase-run-post-tree-small-rule-fallthrough
Amidst all the fake trees, an actual organic small tree grows. You're a bit disappointed, but you realize you maybe shouldn't have expected much with so little letter-shuffling. Maybe if you want a bigger tree, you'll need to do something else.

@gt
#testcase-goto-table-of-noways-trees-mall
>n
You can only go back south.

>s

>s

>w

>s

@hom
#testcase-homonym-reject-table-of-main-oronyms-vile
>grow vile
{$REJHOM}
\\
>bzzt vile
Hmm. That kind of partway SOUNDED like it should work, but it didn't.

>grow vial
by a point

@all,rej
{--rej}#testcase-check-pre-grow-vial-rule-fallthrough
{--all}#testcase-run-post-grow-vial-rule-default
In the grove isle, you find a grow vial, which you take. It's relaxing, but you can't afford to loiter too long.

>war file
by a point

@all,rej
{--rej}#testcase-check-pre-war-file-rule-fallthrough
{--all}#testcase-run-post-war-file-rule-default
The squid gives you and only you a ride a few miles across the ocean. You realize you could reach the wharf isle for a war file. When you get there, you're a bit disappointed by what you see. There's a bit too much emphasis on magic and the implements thereof, all of which are at a much too hefty price for you. So equipment is out. Still, there's some ideas worth tracking. Yet you can't be the only person disappointed here...

@all
#testcase-room-names-wand-wharf
`Wand Wharf

@gt
#testcase-goto-table-of-noways-wand-wharf
>e
You're not in the mood for exploring the wharf. It seems like a good way to get lost. Maybe there's someone or something nearby you can pick up, then leave.

>wan dwarf
by a point

@all,rej
{--rej}#testcase-check-pre-wan-dwarf-rule-fallthrough
{--all}#testcase-run-post-wan-dwarf-rule-default
You look around and uncover a wan dwarf who wasn't good enough to be a full fighter but rejected for magic training. You explain your situation. They're all in!

>n

>e

>n

>n

@all
# this makes sure TREE SMALL then bringing the grow vial back works okay
A tree (small) grows here, or tries to, at least. It deserves to be bigger.
But wait! You can use the grow vial! It makes the tree (small) into a tree (tall)! Then it dissolves once empty.

>t dwarf

>t elf

>t gnome

>t rogue

>t raider

>t mice

>t troll

@all
talk-ache

>t orc

>tall cake
by a point

@all,rej
{--rej}#testcase-check-pre-tall-cake-rule-fallthrough
{--all}#testcase-run-post-tall-cake-rule-default
All this preparing food means you don't talk a bit, and as a bonus, your talk-ache is gone.
But now where to eat the cake?

@hom
#testcase-homonym-reject-table-of-main-oronyms-awl
>treat awl
{$REJHOM}

>treat all
by a point

@all,rej
{--rej}#testcase-check-pre-treat-all-rule-fallthrough
{--all}#testcase-run-post-treat-all-rule-default
Well, that felt good. You trade more ideas while chatting. You think you have about everything figured out, now.

>s

>s

>w

>s

@hom
#testcase-homonym-reject-table-of-main-oronyms-thee
>thee file
{$REJHOM}

>the file
by a point

@all,rej
{--rej}#testcase-check-pre-the-file-rule-fallthrough
{--all}#testcase-run-post-the-file-rule-default
You have a clue what isle to look through. The thief isle. You get The File.
You've visited all the locations in the flier. You crumple it up as if to throw it in a trash bin. The squid makes a gesture as if it wishes to gobble the flier. You're worried it might choke on the flier, as it did for the quid, but then -- well, the water washes the paper brochure down. Odd, but hooray for clearer inventory.

>n

>d

@gt
#testcase-goto-table-of-noways-worm-eaten
>w
No tricky passages here, just UP back to safer ground or DOWN to your fate.

@hom
#testcase-homonym-detail-hom-whirr-meetin-rule-if-the-player's-command-includes-whirr
>whirr meetin
Close, but you don't need a whirr noise.
\\
#testcase-homonym-reject-table-of-main-oronyms-hom-whirr-meetin-rule-wier-whirr-warm-eden-war
#+testcase-homonym-detail-hom-whirr-meetin-rule-if-the-player's-command-includes-whirr
>warm meetin
You don't need to change this place's complexion here. It's cozy, a place for people to be together. But how?

>were meetin
by a point

@all,rej
{--rej}#testcase-check-pre-were-meetin-rule-fallthrough
{--all}#testcase-run-post-were-meetin-rule-default
You meet with the friends you've made over your adventure. You all have one goal in mind. And yet you don't have a rallying cry. Perhaps it can come from within you.

@all
#+testcase-room-names-worm-eaten
`We're Meetin'!

>my corps
by a point

@all,rej
{--rej}#testcase-check-pre-my-corps-rule-fallthrough
{--all}#testcase-run-post-my-corps-rule-default
Your pep talk brings everyone together. They are ready for ... well, whatever is next. This feels like the right place. You clear out a passage below. You swear a solemn pact that everyone will defend everyone else, regardless of what happens.

>d

@all
#testcase-room-names-doom-ending
`Doom Ending

@gt
#testcase-goto-table-of-noways-doom-ending
>n
Unsurprisingly, all the action is here.

@hom
#testcase-homonym-reject-table-of-main-oronyms-hom-cease-cull-rule-seize
#testcase-homonym-detail-hom-cease-cull-rule-default
>seize cull
No, seizing is the last thing you want the skull to do. And you aren't foolish enough to want to seize power.

>cease cull
by a point

@all,rej
{--rej}#testcase-check-pre-cease-cull-rule-fallthrough
{--all}#testcase-run-post-cease-cull-rule-default
You'll probably have to alert the sea skull to your presence at some time. You try to sound authoritative when you do so. And ... well, you get its attention.
"DONE, OH?!?! DUH, NO!" it roars.
It begins pouring out rivers of blood at you and your companions. But fortunately, you have so many, that by the time it gets to you, it is not so bad. Yet it's still depressing. You think back to advice you got at the beginning ... how it seemed slightly off. What to do?

>wipe out
by a point

@all,rej
{--rej}#testcase-check-pre-wipe-out-rule-fallthrough
{--all}#testcase-run-post-wipe-out-rule-default
Well that does it! It's a big long fight, but you all prevail!
Things are a bit of a mess, though. You feel something odd come between you and your companions now you're done. They wonder why they need to do any more. You could call the whole zeitgeist a why-division.

@alt
##balance undos
#testcase-alt-words-table-of-main-oronyms-47-do-due-mend-mending
>due mending
by a point
\\
>undo
>due mend
by a point
\\
>undo
>do mend
by a point
\\
>undo

@gt
#+testcase-goto-table-of-noways-doom-ending
>e
You need to prep for making things right in general. Then, once the game's over, you'll leave.

@hom
#testcase-homonym-reject-table-of-main-oronyms-dew
>dew mending
{$REJHOM}

>do mending
by a point

@all,rej
{--rej}#testcase-check-pre-do-due-mend-rule-fallthrough
{--all}#testcase-run-post-do-due-mend-rule-default
{--all}#testcase-run-post-do-due-mend-rule-fallthrough
{--all}#testcase-run-post-do-due-mend-rule-follow-the-score-and-thinking-changes-rule
{--all}#testcase-run-post-do-due-mend-rule-follow-the-shutdown-rules
{--all}#testcase-run-post-do-due-mend-rule-if-sco-wide-vision-is-false
Yes. It's time to get healing. Your companions don't have as much time or energy to help as you hoped they would, but they do enough. Everyone feels better for their part in defeating the sea skull. And yet you worry it, or something like it, may be back sooner rather than later, and your companions have gone their separate ways for good. Still, you should be pleased with yourself.
!not just to make
